<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Bow and Arrow</title>
	<style>
	canvas {
		display: block;
		position: absolute;
		margin: auto;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
	}
	</style>
</head>
<body>
<script>

var

// Constants

WIDTH  = 900,
HEIGHT = 600,
//pi = Math.PI,
UpArrow   = 38,
DownArrow = 40,
Spacebar = 32,

// Game elements
 
canvas,
ctx,
keystate,

//The player bow
player = {
	x: null,
	y: null,
	width:  100,
	height: 100,
	
	//  Update the position depending on pressed keys
	 
	update: function() {
		if (keystate[UpArrow]) this.y -= 7;
		if (keystate[DownArrow]) this.y += 7;
		// keep the bow inside the canvas
		this.y = Math.max(Math.min(this.y, HEIGHT - this.height), 0);
	},
	
	//	 Draw the player bow to the canvas
	 
	draw: function() {
		var img = new Image();   
		img.src = 'image.png';
		ctx.drawImage(img,this.x, this.y, this.width, this.height);
	}
};


function main() {
	// create, initiate and append game canvas
	canvas = document.createElement("canvas");
	canvas.width = WIDTH;
	canvas.height = HEIGHT;
	ctx = canvas.getContext("2d");
	document.body.appendChild(canvas);
	
	keystate = {};
	// keep track of keyboard presses
	document.addEventListener("keydown", function(evt) {
		keystate[evt.keyCode] = true;
	});
	document.addEventListener("keyup", function(evt) {
		delete keystate[evt.keyCode];
	});
	
	// function to initializing game objects
	init();
	// game loop function
	var loop = function() {
		update();
		draw();
		window.requestAnimationFrame(loop, canvas);
	};
	window.requestAnimationFrame(loop, canvas);
}

//Initatialize game objects and setting starting values

function init() {
	player.x = player.width;
	player.y = (HEIGHT - player.height)/2;
}

//Update all game objects

function update() {
	player.update();
}

//Clear canvas and draw all game objects and net

function draw() {
	ctx.clearRect(0,0,WIDTH,HEIGHT);
	player.draw();
}

// start and run the game
main();

</script>
</body>
</html>
